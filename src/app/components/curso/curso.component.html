<div>
  <h1 class="title">Lista de Cursos</h1>

  <button class="btn" (click)="loadAllCursos()">Cargar Todos los Cursos</button>

  <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

  <!-- Botón para mostrar el dropdown -->
  <button class="dropbtn" (click)="toggleDropdown()">Ver Cursos</button>

  <!-- Dropdown que muestra la lista de cursos -->
  <div class="dropdown" *ngIf="isDropdownOpen">
    <ul class="cursos-list">
      <li *ngFor="let curso of cursos" class="curso-item">
        <div class="curso-info">
          <span><strong>ID Curso:</strong> {{ curso.id }}</span> |
          <span><strong>Precio:</strong> {{ curso.precio }}</span> |
          <span>Fecha de Inicio: {{ curso.fechaInicio | date:'short' }}</span> |
          <span>Fecha de Finalización: {{ curso.fechaFin | date:'short' }}</span>
        </div>
        <div class="curso-tema">
          <h3>Tema</h3>
          <span><strong>ID Tema:</strong> {{ curso.tema.id }}</span> |
          <span><strong>Nombre:</strong> {{ curso.tema.nombre }}</span> |
          <span><strong>Descripción:</strong> {{ curso.tema.descripcion }}</span>
        </div>
        <div class="curso-docente">
          <h3>Docente</h3>
          <span><strong>Legajo:</strong> {{ curso.docente.legajo }}</span> |
          <span><strong>Nombre:</strong> {{ curso.docente.nombre }}</span>
        </div>
        <div class="curso-alumnos">
          <h3>Alumnos Inscritos</h3>
          <ul>
            <li *ngFor="let alumno of curso.alumnos" class="alumno-curso-item">
              <span><strong>ID Alumno:</strong> {{ alumno.id }}</span> |
              <span><strong>Nombre:</strong> {{ alumno.nombre }}</span>
            </li>
          </ul>
        </div>
      </li>
    </ul>
  </div>

  <!-- Formulario para buscar cursos -->
  <h2>Búsqueda de Cursos</h2>
  <div class="buscar-curso">
    <input type="number" #cursoId placeholder="Ingrese ID del Curso" />
    <button class="btn" (click)="loadCursoById(+cursoId.value)">Buscar por ID</button>

    <input type="date" #fecha placeholder="yyyy-mm-dd" />
    <button class="btn" (click)="loadCursosPorFecha(fecha.value)">Cargar Cursos por Fecha</button>
  </div>

  <!-- Mostrar resultados de búsqueda -->
  <div *ngIf="curso" class="curso-item">
    <h4>(ID DE CURSO: {{ curso.id }})</h4>
    <!-- Detalles del curso -->
    <div class="curso-tema">
      <h3>Tema</h3>
      <span><strong>ID Tema:</strong> {{ curso.tema.id }}</span> |
      <span><strong>Nombre:</strong> {{ curso.tema.nombre }}</span> |
      <span><strong>Descripción:</strong> {{ curso.tema.descripcion }}</span>
    </div>

    <div class="curso-docente">
      <h3>Docente</h3>
      <span><strong>Legajo:</strong> {{ curso.docente.legajo }}</span> |
      <span><strong>Nombre:</strong> {{ curso.docente.nombre }}</span>
    </div>

    <p>Precio: {{ curso.precio }}</p>
    <p>Fecha Inicio: {{ curso.fechaInicio | date:'short' }}</p>
    <p>Fecha Fin: {{ curso.fechaFin | date:'short' }}</p>

    <!-- Alumnos inscritos -->
    <h5><strong>Alumnos inscritos:</strong></h5>
    <ul class="alumnos-curso">
      <li *ngFor="let alumno of curso.alumnos" class="alumno-curso-item">
        ID Alumno: {{ alumno.id }}, Nombre: {{ alumno.nombre }}
      </li>
    </ul>
  </div>

  <!-- Dropdown para cursos por fecha -->
  <div *ngIf="cursosPorFecha.length > 0" class="dropdown-fecha">
    <h3>Cursos que finalizan en una fecha específica</h3>
    <div *ngFor="let curso of cursosPorFecha" class="curso-item">
      <h4>(ID DE CURSO: {{ curso.id }})</h4>
      <!-- Detalles del curso -->
      <div class="curso-tema">
        <h3>Tema</h3>
        <span><strong>ID Tema:</strong> {{ curso.tema.id }}</span> |
        <span><strong>Nombre:</strong> {{ curso.tema.nombre }}</span> |
        <span><strong>Descripción:</strong> {{ curso.tema.descripcion }}</span>
      </div>

      <div class="curso-docente">
        <h3>Docente</h3>
        <span><strong>Legajo:</strong> {{ curso.docente.legajo }}</span> |
        <span><strong>Nombre:</strong> {{ curso.docente.nombre }}</span>
      </div>

      <p>Precio: {{ curso.precio }}</p>
      <p>Fecha Inicio: {{ curso.fechaInicio | date:'short' }}</p>
      <p>Fecha Fin: {{ curso.fechaFin | date:'short' }}</p>

      <!-- Alumnos inscritos -->
      <h5><strong>Alumnos inscritos:</strong></h5>
      <ul class="alumnos-curso">
        <li *ngFor="let alumno of curso.alumnos" class="alumno-curso-item">
          ID Alumno: {{ alumno.id }}, Nombre: {{ alumno.nombre }}
        </li>
      </ul>

    </div>
  </div>

  <!-- Mensaje si no hay cursos encontrados -->
  <div *ngIf="cursosPorFecha.length === 0 && isDropdownFechaOpen">
    No se encontraron cursos para la fecha seleccionada.
  </div>

</div>
